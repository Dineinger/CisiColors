@using System.Diagnostics.CodeAnalysis
<button class="copy-button" title="copy">
    @if (success)
    {
        <svg viewBox="0 0 53 50">
            <path class="copy-path @CSS_NeedLight" fill-rule="evenodd" clip-rule="evenodd" d="M6.47446 16.5247C5.1074 15.1581 2.89132 15.1585 1.52472 16.5255C0.158108 17.8926 0.158477 20.1087 1.52554 21.4753L11.4804 31.4268C11.5123 31.4609 11.5516 31.5022 11.598 31.5499C11.702 31.6566 11.843 31.7964 12.0177 31.9582C12.3637 32.2787 12.8598 32.7024 13.4786 33.1298C14.6494 33.9385 16.604 35 19.0033 35C21.4026 35 23.3572 33.9385 24.528 33.1298C25.1468 32.7024 25.6429 32.2787 25.9889 31.9583C26.1636 31.7964 26.3046 31.6566 26.4086 31.5499C26.4551 31.5021 26.4946 31.4607 26.5265 31.4265L51.4782 6.47486C52.845 5.10802 52.845 2.89195 51.4782 1.52511C50.1114 0.158275 47.8953 0.158276 46.5284 1.52511L21.5284 26.5251L21.4602 26.5933L21.4122 26.647L21.3949 26.6649C21.3657 26.6949 21.3102 26.7504 21.2319 26.823C21.0718 26.9713 20.8357 27.1726 20.5497 27.3702C19.9108 27.8115 19.3654 28 19.0033 28C18.6412 28 18.0958 27.8115 17.457 27.3702C17.1709 27.1726 16.9348 26.9713 16.7747 26.823C16.6964 26.7504 16.641 26.6949 16.6117 26.6649L16.5945 26.647L16.5462 26.5931L16.4778 26.5247L6.47446 16.5247ZM6.47487 31.5251C5.10804 30.1583 2.89196 30.1583 1.52512 31.5251C0.158291 32.892 0.158293 35.108 1.52513 36.4749L11.4768 46.4265C11.5088 46.4607 11.5482 46.5021 11.5947 46.5499C11.6987 46.6566 11.8397 46.7964 12.0144 46.9582C12.3604 47.2787 12.8565 47.7024 13.4753 48.1298C14.6461 48.9385 16.6007 50 19 50C21.3993 50 23.3539 48.9385 24.5247 48.1298C25.1435 47.7024 25.6396 47.2787 25.9856 46.9583C26.1603 46.7964 26.3013 46.6566 26.4053 46.5499C26.4518 46.5021 26.4912 46.4607 26.5232 46.4265L51.4749 21.4749C52.8417 20.108 52.8417 17.8919 51.4749 16.5251C50.108 15.1583 47.892 15.1583 46.5251 16.5251L21.5251 41.5251L21.4569 41.5933L21.4089 41.647L21.3916 41.6649C21.3623 41.6949 21.3069 41.7504 21.2286 41.823C21.0685 41.9713 20.8324 42.1726 20.5463 42.3702C19.9075 42.8115 19.3621 43 19 43C18.6379 43 18.0925 42.8115 17.4537 42.3702C17.1676 42.1726 16.9315 41.9713 16.7714 41.823C16.6931 41.7504 16.6377 41.6949 16.6084 41.6649L16.5911 41.647L16.5431 41.5933L16.4749 41.5251L6.47487 31.5251Z" />
        </svg>
    }
    else
    {
        <svg viewBox="0 0 60 60">
            <path class="copy-path @CSS_NeedLight" fill-rule="evenodd" clip-rule="evenodd" d="M51.0695 24.0267C49.9309 22.8881 47.0695 23.0267 47.0695 23.0267L27.0695 23.0267C27.0695 23.0267 24.4502 22.646 23.0695 24.0267C21.6888 25.4074 22.0695 28.0267 22.0695 28.0267L22.0695 48.0267C22.0695 48.0267 21.6888 50.646 23.0695 52.0267C24.4502 53.4074 27.0695 53.0267 27.0695 53.0267L47.0695 53.0267C47.0695 53.0267 49.9309 53.1653 51.0695 52.0267C52.2081 50.8881 52.0695 48.0267 52.0695 48.0267L52.0695 28.0267C52.0695 28.0267 52.2081 25.1653 51.0695 24.0267ZM37.0695 16.0267L27.4227 16.0267C27.2982 16.0163 27.1594 16.0065 27.0081 15.9986C26.4918 15.9713 25.7688 15.9614 24.9352 16.0394C23.5249 16.1713 20.5333 16.6634 18.1198 19.077C15.7062 21.4905 15.2141 24.4821 15.0822 25.8924C15.0042 26.726 15.0141 27.449 15.0413 27.9653C15.0493 28.1166 15.0591 28.2554 15.0695 28.3799L15.0695 38.0267L12.0695 38.0267C12.0695 38.0267 9.45022 38.4074 8.0695 37.0267C6.68879 35.646 7.0695 33.0267 7.0695 33.0267L7.0695 13.0267C7.0695 13.0267 6.68879 10.4074 8.0695 9.02671C9.45022 7.646 12.0695 8.02671 12.0695 8.02671L32.0695 8.02671C32.0695 8.02671 34.9309 7.88815 36.0695 9.02671C37.2081 10.1653 37.0695 13.0267 37.0695 13.0267L37.0695 16.0267ZM44.0695 16.0267L44.0695 13.1416C44.0704 13.1095 44.0712 13.0748 44.0719 13.0377C44.0749 12.8829 44.0764 12.6816 44.0724 12.4444C44.0646 11.9814 44.0354 11.326 43.9419 10.5817C43.8515 9.86145 43.6808 8.88975 43.3265 7.85831C42.9916 6.88311 42.339 5.39668 41.0193 4.07697C39.6995 2.75725 38.2131 2.10462 37.2379 1.7697C36.2065 1.41546 35.2348 1.2447 34.5145 1.15427C33.7703 1.06083 33.1148 1.03161 32.6518 1.02384C32.4146 1.01986 32.2133 1.0213 32.0586 1.02431C32.0214 1.02503 31.9867 1.02585 31.9546 1.02671L12.4227 1.02671C12.2982 1.01633 12.1594 1.00655 12.0081 0.998554C11.4918 0.971266 10.7688 0.961392 9.93522 1.03938C8.52489 1.17132 5.53329 1.66343 3.11976 4.07696C0.706226 6.49049 0.214119 9.48209 0.082172 10.8924C0.00418432 11.726 0.0140605 12.449 0.0413471 12.9653C0.0493426 13.1166 0.0591273 13.2554 0.0695033 13.3799L0.0695025 32.6735C0.0591265 32.798 0.0493418 32.9368 0.0413462 33.0881C0.0140596 33.6044 0.00418334 34.3274 0.082171 35.161C0.214117 36.5713 0.706229 39.5629 3.11975 41.9765C5.53328 44.39 8.52488 44.8821 9.93521 45.014C10.7688 45.092 11.4918 45.0822 12.0081 45.0549C12.1594 45.0469 12.2982 45.0371 12.4227 45.0267L15.0695 45.0267L15.0695 47.6735C15.0591 47.798 15.0493 47.9368 15.0413 48.0881C15.0141 48.6044 15.0042 49.3274 15.0822 50.161C15.2141 51.5713 15.7062 54.5629 18.1198 56.9765C20.5333 59.39 23.5249 59.8821 24.9352 60.014C25.7688 60.092 26.4918 60.0821 27.0081 60.0549C27.1594 60.0469 27.2982 60.0371 27.4227 60.0267L46.9545 60.0267C46.9866 60.0276 47.0214 60.0284 47.0585 60.0291C47.2133 60.0321 47.4146 60.0336 47.6518 60.0296C48.1148 60.0218 48.7703 59.9926 49.5145 59.8991C50.2348 59.8087 51.2065 59.638 52.2379 59.2837C53.2131 58.9488 54.6995 58.2962 56.0193 56.9765C57.339 55.6567 57.9916 54.1703 58.3265 53.1951C58.6808 52.1637 58.8515 51.192 58.9419 50.4717C59.0354 49.7275 59.0646 49.072 59.0724 48.609C59.0764 48.3718 59.0749 48.1705 59.0719 48.0158C59.0712 47.9786 59.0704 47.9439 59.0695 47.9118L59.0695 28.1416C59.0704 28.1095 59.0712 28.0748 59.0719 28.0377C59.0749 27.8829 59.0764 27.6816 59.0724 27.4444C59.0646 26.9814 59.0354 26.326 58.9419 25.5817C58.8515 24.8615 58.6808 23.8897 58.3265 22.8583C57.9916 21.8831 57.339 20.3967 56.0193 19.077C54.6995 17.7572 53.2131 17.1046 52.2379 16.7697C51.2065 16.4155 50.2348 16.2447 49.5145 16.1543C48.7703 16.0608 48.1148 16.0316 47.6518 16.0238C47.4146 16.0199 47.2133 16.0213 47.0586 16.0243C47.0214 16.025 46.9867 16.0258 46.9546 16.0267L44.0695 16.0267Z" />
        </svg>
    }
</button>

@code {
    [Parameter, EditorRequired, DisallowNull]
    public string? ValueToCopy { get; set; }

    [Parameter]
    public Color BackgroundColor { get; set; }

    private bool needLight => BackgroundColor.IsLightColor() == false;
    private string CSS_NeedLight => needLight ? "light" : "dark";

    bool success = false;
}
